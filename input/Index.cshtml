@using Kentico.Kontent.Statiq.Lumen.Models
@using Kentico.Kontent.Statiq.Lumen.Models.ViewModels
@using System.Globalization
@model HomeViewModel
@{
    ViewData["Title"] = "Blog - Lumen";
}
@{
    await Html.RenderPartialAsync("Shared/Sidebar/_Sidebar.cshtml", Model.Sidebar);
}
<div class="content">
    <div class="content__inner">
                @foreach (var article in Model.Articles.Items)
                {
                    <div class="article">
                        <div><time class="article__meta-time" datetime="@article.Date.Value.ToString("yyyy-MM-dd", CultureInfo.InvariantCulture.DateTimeFormat)">@Html.DisplayFor(model => article.Date)</time><span class="article__meta-divider"></span><span class="article__meta-category"><a class="article__meta-category-link" href="/category/typography/">@Html.Raw(string.Join(", ", article.TagObjects.Select(t => t.Title)))</a></span></div>
                        <h2 class="article__title"><a class="article__title-link" href="@article.Slug">@article.Title</a></h2>
                        <p class="article__description">@article.Description</p>
                        <a class="article__readmore" href="/posts/@article.Slug">Read</a>
                    </div>
                }

            @if (Model.Articles.TotalPages > 1)
            {
                var currentPageIndex = Model.Articles.Index;
                var lastPage = Model.Articles.TotalPages;
                <div class="pagination">
                    <div class="pagination__prev"><a aria-current="page" rel="prev" class="pagination__prev-link pagination__prev-link--disable" href="@Model.Articles.Previous?.Url">← PREV</a></div>
                    <div class="pagination__next"><a rel="next" class="pagination__next-link" href="@Model.Articles.Next?.Url">→ NEXT</a></div>
                </div>
            }

    </div>
</div>

@section Styles
{
}
